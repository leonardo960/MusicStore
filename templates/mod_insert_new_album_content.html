<div class="breadcrumbs">
    <div class="col-sm-4">
        <div class="page-header float-left">
            <div class="page-title">
                <h1>Gestione Album</h1>
            </div>
        </div>
    </div>
    <div class="col-sm-8">
        <div class="page-header float-right">
            <div class="page-title">
                <ol class="breadcrumb text-right">
                    <li class="active">Dashboard</li>
                </ol>
            </div>
        </div>
    </div>
</div>

<div class="content mt-3">

    <div class="card">
        <div class="card-header">
            <strong>Inserisci : </strong> Nuovo Album
        </div>
        <div class="card-body card-block">
            <form id="song-insert" action="" method="post" enctype="multipart/form-data" class="form-horizontal">

                <div class="row form-group">
                    <div class="col col-md-3"><label for="text-input" class=" form-control-label">Nome : </label></div>
                    <div class="col-12 col-md-9"><input type="text" id="text-input" name="nome_album"
                                                        class="form-control" autocomplete="none" required></div>
                </div>

                <div class="row form-group">
                    <div class="col col-md-3"><label for="select" class=" form-control-label">Artista : </label></div>
                    <div class="col-12 col-md-9">
                        <select class="js-example-basic-single" name="fk_artista">
                            {foreach $artisti as $artista}
                            <option value="{$artista.id_artista}">{$artista.nome_artista}</option>
                            {/foreach}
                        </select>

                    </div>
                </div>

                <div class="row form-group">
                    <div class="col col-md-3"><label for="text-input" class=" form-control-label">Etichetta : </label>
                    </div>
                    <div class="col-12 col-md-9"><input type="text" id="text-input" name="etichetta"
                                                        class="form-control" autocomplete="none" required></div>
                </div>

                <div class="row form-group">
                    <div class="col col-md-3"><label for="text-input" class=" form-control-label">Prezzo : </label>
                    </div>
                    <div class="col-12 col-md-9"><input type="number" id="text-input" name="prezzo" class="form-control"
                                                        value="0" autocomplete="none" required></div>
                </div>

                <div class="row form-group">
                    <div class="col col-md-3"><label for="text-input" class=" form-control-label">Dischi Contenuti
                        : </label></div>
                    <div class="col-12 col-md-9"><input type="number" id="text-input" name="dischi" class="form-control"
                                                        value="0" autocomplete="none" required></div>
                </div>

                <div class="row form-group">
                    <div class="col col-md-3"><label for="text-input" class=" form-control-label">Tracce : </label>
                    </div>
                    <div class="col-12 col-md-9"><input type="number" id="text-input" name="tracce" class="form-control"
                                                        value="0" autocomplete="none" required></div>
                </div>

                <div class="row form-group">
                    <div class="col col-md-3"><label for="text-input" class=" form-control-label">Data di Pubblicazione
                        : </label></div>
                    <div class="col-12 col-md-9"><input type="date" id="fine-attivita-year" name="pubblicazione"
                                                        class="form-control" required></div>
                </div>

                <div class="row form-group">
                    <div class="col col-md-3"><label for="textarea-input" class=" form-control-label">Descrizione
                        : </label></div>
                    <div class="col-12 col-md-9"><textarea name="descrizione" id="descrizione-edit" rows="4"
                                                           placeholder="..." class="form-control" required></textarea>
                    </div>
                </div>


                <div class="row form-group">
                    <div class="col col-md-3"><label class=" form-control-label">Genere : </label></div>
                    <div class="col col-md-9">
                        <div class="form-check">

                            <select class="js-example-basic-multiple" name="generi[]" multiple="multiple">
                                {foreach $generi as $genere}
                                <option value="{$genere.genere}">{$genere.genere}</option>
                                {/foreach}
                            </select>

                        </div>
                    </div>
                </div>

                <div class="row form-group">
                    <div class="col col-md-3"><label for="text-input" class=" form-control-label">Stock : </label></div>
                    <div class="col-12 col-md-9"><input type="number" id="text-input" name="stock" class="form-control"
                                                        value="0" autocomplete="none" required></div>
                </div>

                <div class="row form-group">
                    <div class="col col-md-3"><label for="file-input" class=" form-control-label">Immagine Album
                        : </label></div>
                    <div class="col-12 col-md-9"><input type="file" id="file-input" name="album-img"
                                                        class="form-control-file"
                                                        accept="image/x-png,image/gif,image/jpeg" required></div>
                </div>

                <input id="hidden-date" type="date" name="data_inserimento" hidden/>

            </form>
        </div>

        <div class="card-footer">
            <button type="submit" class="btn btn-primary btn-sm" form="song-insert">
                <i class="fa fa-dot-circle-o"></i> Procedi
            </button>
            <button type="reset" class="btn btn-danger btn-sm">
                <i class="fa fa-ban"></i> Reset
            </button>
        </div>
    </div>

</div>

<!--/.col-->

<div class="content mt-3">
    <div class="animated fadeIn">
        <div class="row">

            <div class="col-md-12">
                <div class="card">
                    <div class="card-header">
                        <strong class="card-title">Album Inseriti</strong>
                    </div>
                    <div class="card-body">
                        <table id="bootstrap-data-table" class="table table-striped table-bordered">
                            <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nome
                                    <small>(Clicca per modificare)</small>
                                </th>
                                <th>Artista
                                    <small>(Clicca per modificare)</small>
                                </th>
                            </tr>
                            </thead>
                            <tbody>
                            {foreach $albums as $album}
                            <tr>
                                <td>{$album.id_album}</td>
                                <td><a href="">{$album.nome_album}</a></td>
                                <!-- link alla pagina di modifica dell'album -->
                                <td><a href="">{$album.fk_artista}</a></td>
                                <!-- link alla pagina di modifica dell'artista -->
                            </tr>
                            {/foreach}

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div><!-- .animated -->
</div><!-- .content -->
<script>
    var myDate = document.getElementById("hidden-date");
    var today = new Date();
    myDate.value = today.toISOString().substr(0, 10);
</script>
<script src="../js/nicEdit/nicEdit.js" type="text/javascript"></script>
<script type="text/javascript">
    {literal}
    bkLib.onDomLoaded(function () {

        new nicEditor({
            iconsPath: 'assets/js/nicEdit/nicEditorIcons.gif',
            buttonList: ['bold', 'italic', 'link', 'unlink']
        }).panelInstance('descrizione-edit');
    });
    (function($) {
        $(document).ready(function () {
            $('.js-example-basic-single').select2();
            $('.js-example-basic-multiple').select2();
        });
    }(jQuery));
    {/literal}
</script>

